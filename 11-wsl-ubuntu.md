# ê°œë°œí™˜ê²½ êµ¬ì¶• (Windows + WSL2 + Ubuntu 24.04)

## ğŸ“˜ í•™ìŠµ ê°œìš”

ì´ ë¬¸ì„œëŠ” Windows í™˜ê²½ì—ì„œ Linux ì„œë²„ ê°œë°œí™˜ê²½ì„ êµ¬ì¶•í•´ì•¼ í•˜ëŠ” í•™ìƒë“¤ì„ ìœ„í•œ ì‹¤ìŠµ ë¬¸ì„œì…ë‹ˆë‹¤.

VSCode ë‹¤ìš´ë¡œë“œ - `https://code.visualstudio.com/download`

## ğŸ’¡ ì£¼ìš” ë‚´ìš©

- Windowsì— WSL2 ì„¤ì¹˜

- Ubuntu ì´ˆê¸° ì„¤ì •(systemd í™œì„±í™” ë“±)

- Ubuntuì— SSH ì„œë²„ ì„¤ì¹˜

- VSCodeë¥¼ í†µí•œ ì›ê²© ê°œë°œí™˜ê²½ êµ¬ì„±

- Windowsì—ì„œ SSH í‚¤í˜ì–´ ìƒì„± í›„ ê³µê°œí‚¤ë¥¼ Ubuntu ì— ë“±ë¡
---

# 1. Windowsì— WSL2 ì„¤ì¹˜

> WSL(Windows Subsystem for Linux) ëŠ” Windows ì•ˆì—ì„œ Linux í™˜ê²½ì„ ê·¸ëŒ€ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.


## 1-1. PowerShell ê´€ë¦¬ì ì‹¤í–‰

Windows ê²€ìƒ‰ â†’ PowerShell â†’ ìš°í´ë¦­ â†’ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰

- `PowerShell` ì´ë€? Windowsìš© ëª…ë ¹ ì…¸ 

- `ë¦¬ëˆ…ìŠ¤ ì…¸(Bash)` ì´ë€? Linux/Unixì—ì„œ ì“°ëŠ” ê°€ì¥ ëŒ€í‘œì ì¸ ëª…ë ¹ ì…¸


## 1-2. Windows ì—ì„œ WSL ê¸°ëŠ¥ í™œì„±í™”
> Windowsê°€ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” WSL(Windows Subsystem for Linux) ê¸°ëŠ¥ì„ ì¼œëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•¨.
```powershell
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
```

## 1-3. Windows ì—ì„œ ê°€ìƒí™” ê¸°ëŠ¥ í™œì„±í™”
> WSL2, Docker Desktop, ì¼ë¶€ VM ê¸°ë°˜ ê¸°ëŠ¥ë“¤ì´ ë™ì‘í•˜ë ¤ë©´ ë°˜ë“œì‹œ ì´ ê¸°ëŠ¥ì´ í™œì„±í™”ë˜ì–´ ìˆì–´ì•¼ í•¨.
```powershell
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
```

## 1-4. WSL ê¸°ë³¸ ë²„ì „ì„ WSL2 ë¡œ ë³€ê²½
> WSLì—ì„œ ìƒˆë¡œ ì„¤ì¹˜ë˜ëŠ” ëª¨ë“  ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì„ ê¸°ë³¸ì ìœ¼ë¡œ WSL2 í˜•íƒœë¡œ ì„¤ì¹˜ë˜ë„ë¡ ì„¤ì •í•˜ëŠ” ëª…ë ¹ì–´.
```powershell
wsl --set-default-version 2
```

WSLì€ ë¦¬ëˆ…ìŠ¤ë¥¼ â€œë²ˆì—­í•´ì„œâ€ ì‹¤í–‰í•˜ê³ , WSL2ëŠ” ì‹¤ì œ ë¦¬ëˆ…ìŠ¤ ì»¤ë„ì„ ì‚¬ìš©í•´ â€œê·¸ëŒ€ë¡œâ€ ì‹¤í–‰í•œë‹¤.


## 1-5. WSL Ubuntu 24.04 ì„¤ì¹˜
| í•­ëª©               | ì˜ë¯¸                            |
| ----------------- | ----------------------------- |
| **`wsl` --install** | WSL ê¸°ëŠ¥ + ê¸°ë³¸ êµ¬ì„±ìš”ì†Œ ìë™ ì„¤ì¹˜        |
| **-d**            | ì„¤ì¹˜í•  Linux ë°°í¬íŒ ì„ íƒ ì˜µì…˜           |
| **Ubuntu-24.04**  | ì„¤ì¹˜í•  ë°°í¬íŒ ì´ë¦„ (Ubuntu 24.04 LTS) |

```powershell
wsl --install -d Ubuntu-24.04
```
--- 

# 2. Ubuntu 24.04 ì†Œê°œ ë° ì´ˆê¸° ì„¤ì •
> **Ubuntu**ëŠ” Debian ê¸°ë°˜ì˜ Linux ìš´ì˜ì²´ì œë¡œ, ë¬´ë£Œì´ë©° ëˆ„êµ¬ë‚˜ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜¤í”ˆì†ŒìŠ¤ OSì…ë‹ˆë‹¤.   
> ì‚¬ìš©í•˜ê¸° ì‰½ê³  ì„¤ì¹˜ê°€ ê°„ë‹¨í•´ì„œ ë¦¬ëˆ…ìŠ¤ ì…ë¬¸ìë¶€í„° ì„œë²„ ê°œë°œì, í´ë¼ìš°ë“œ, AI, WSL ì‚¬ìš©ìê¹Œì§€ ë„ë¦¬ ì‚¬ìš©ë©ë‹ˆë‹¤.

## 2-1. ê³„ì • ìƒì„±  
![ìš°ë¶„íˆ¬ê³„ì •ìƒì„±](https://lh3.googleusercontent.com/d/1n87lsF_ChuQIRtmV36s4EsSsELtsrd3D)
Ubuntuê°€ ì²˜ìŒ ì‹¤í–‰ë˜ë©´ ì‚¬ìš©ì ì´ë¦„/ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.  
- ì‚¬ìš©ìëª…: ì†Œë¬¸ìë§Œ í—ˆìš©  
- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ì‹œ í™”ë©´ì— ì¶œë ¥ë˜ì§€ ì•Šì§€ë§Œ ì •ìƒ ì…ë ¥ë¨

## 2-2. /etc/wsl.conf ì„¤ì • (ì¤‘ìš”)

> wsl.conf ì„¤ì • íŒŒì¼ì˜ ì—­í•    
> -> WSL(Windows Subsystem for Linux) í™˜ê²½ì„ ì œì–´í•˜ëŠ” ì„¤ì • íŒŒì¼. WSL ë‚´ë¶€ì—ì„œ systemd í™œì„±í™” ë° Windows í™˜ê²½ê³¼ ë¶„ë¦¬ë¥¼ ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •.    
> systemd ë€ ? Linuxì˜ ì„œë¹„ìŠ¤/í”„ë¡œì„¸ìŠ¤/ë¶€íŒ… ì „ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ ì—”ì§„  

```bash
sudo sh -c 'cat > /etc/wsl.conf << "EOF"
[boot]
systemd=true

[user]
default=ubuntu

[automount]
enabled=false

[interop]
enabled=false
appendWindowsPath=false

[network]
hostname=ubuntu24
EOF'
```
- systemd=true  
  : ubuntu ë¶€íŒ…ì‹œ ìë™ìœ¼ë¡œ systemdì— ë“±ë¡ëœ ì„œë¹„ìŠ¤(ì›¹ì„œë²„,ë””ë¹„ì„œë²„ ë“±) ì‹œì‘í•˜ë ¤ë©´ true

- default=ubuntu  
  : Ubuntu Shell ì ‘ì†ì‹œ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ í•  ì‚¬ìš©ì ì´ë¦„ì…ë‹ˆë‹¤.

- (automount/interop) enabled=false, appendWindowsPath=false  
  : Windows ê²½ë¡œ ìë™ ë§ˆìš´íŠ¸ ë° Windows í”„ë¡œê·¸ë¨ í˜¸ì¶œ ì œí•œ ê·¸ë¦¬ê³  Windows Path ì„ê¸° ê¸ˆì§€.

- hostname=ubuntu24   
  : WSL í™˜ê²½ì—ì„œ Ubuntuë¥¼ ì‹¤í–‰í•  ë•Œ, ì‹œìŠ¤í…œì´ ë¶€íŒ… ê³¼ì •ì—ì„œ /etc/hostname íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ìƒì„±í•˜ê¸° ë•Œë¬¸ì—, ê³ ì •ëœ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ì‚¬ìš©í•˜ë ¤ë©´ /etc/wsl.conf íŒŒì¼ì—ì„œ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì„ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.

í™•ì¸:
```bash
cat /etc/wsl.conf
```
```
[boot]
systemd=true

[user]
default=ubuntu

[automount]
enabled=false

[interop]
enabled=false
appendWindowsPath=false

[network]
hostname=ubuntu24
```

## 2-3. WSL ì¬ì‹œì‘

Windows ê²€ìƒ‰ â†’ PowerShell â†’ ì‹¤í–‰

`wsl` -l -v : WSLì— ì„¤ì¹˜ëœ ëª¨ë“  ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì„ â€œë²„ì „(WSL1/WSL2)â€ê³¼ í•¨ê»˜ ëª©ë¡ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ëª…ë ¹ì–´.
```powershell
wsl -l -v
```

`wsl` --shutdown : WSLì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒê³¼ WSL ê°€ìƒë¨¸ì‹ ì„ ì™„ì „íˆ ì¢…ë£Œí•˜ëŠ” ëª…ë ¹ì–´.
```powershell
wsl --shutdown
```

`wsl` : ì—¬ëŸ¬ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •ëœ ë°°í¬íŒì´ ìë™ ì‹¤í–‰ë¨. ( ê¸°ë³¸ ë°°í¬íŒ ì„¤ì • ì˜ˆ: `wsl --set-default Ubuntu-24.04` )
```powershell
wsl
```

`wsl` ì‹¤í–‰í›„ ë‚˜ì˜¤ëŠ” í”„ë¡¬í”„íŠ¸(prompt)ê°€ ì•„ë˜ì™€ ê°™ìœ¼ë©´ ì •ìƒ:
```bash
ubuntu@ubuntu24:~$
```

- í”„ë¡¬í”„íŠ¸(prompt) ë€? "ì§€ê¸ˆ ì–´ë–¤ ì‚¬ìš©ìë¡œ, ì–´ë–¤ ì»´í“¨í„°ì—ì„œ, ì–´ë–¤ ë””ë ‰í† ë¦¬ì—ì„œ ëª…ë ¹ì„ ì…ë ¥í•˜ê³  ìˆëŠ”ì§€"ë¥¼ ì•Œë ¤ì£¼ëŠ” í‘œì‹œ

  - `ubuntu` : í˜„ì¬ ì‚¬ìš©ì

  - `ubuntu24` : ì»´í“¨í„°ì´ë¦„ ( hostname )

  - `~` : í˜„ì¬ ë””ë ‰í† ë¦¬. ~ ëŠ” "ë‚´ í™ˆ ë””ë ‰í† ë¦¬"ë¼ëŠ” ëœ». ì¦‰ /home/ubuntu ê³¼ ë™ì¼í•œ ì˜ë¯¸.

  - `$`: ì¼ë°˜ ì‚¬ìš©ì ë¼ëŠ” ëœ» ( ê´€ë¦¬ìëŠ” `#` )

---

## 2-4. Ubuntu APT ( Advanced Package Tool ) ì—…ë°ì´íŠ¸
> `APT` ë€ ? Ubuntuì˜ ëŒ€í‘œ íŒ¨í‚¤ì§€ ê´€ë¦¬ ë„êµ¬ì´ë©° í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜Â·ì—…ë°ì´íŠ¸Â·ì‚­ì œ ë“±ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì¤Œ.

| í•­ëª©          | ì˜ë¯¸                             |
| ----------- | ------------------------------ |
| **sudo**    | ê´€ë¦¬ì(root) ê¶Œí•œìœ¼ë¡œ ëª…ë ¹ ì‹¤í–‰           |
| **`apt`**     | Ubuntu íŒ¨í‚¤ì§€ ê´€ë¦¬ ë„êµ¬               |
| **update**  | ì„¤ì¹˜ ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ **ëª©ë¡ë§Œ ìµœì‹ ìœ¼ë¡œ ê°±ì‹ **     |
| **&&**      | ì• ëª…ë ¹ ì„±ê³µ ì‹œ ë‹¤ìŒ ëª…ë ¹ ì‹¤í–‰             |
| **upgrade** | ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ë¥¼ **ìµœì‹  ë²„ì „ìœ¼ë¡œ ì‹¤ì œ ì—…ê·¸ë ˆì´ë“œ**  |
| **-y**      | ëª¨ë“  ì§ˆë¬¸ì— ìë™ìœ¼ë¡œ **Yes** ì²˜ë¦¬ |

```bash
sudo apt update && sudo apt upgrade -y
```

## 2-5. ubuntu ê³„ì •ì´ systemctl ëª…ë ¹ì„ sudo ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ sudoers ê·œì¹™ì„ ìƒˆ íŒŒì¼ë¡œ ì¶”ê°€í•˜ê¸°:
| ë¶€ë¶„                     | ì„¤ëª…                       |          
| ------------------ | ------------- |
| `echo` "ubuntu ALL=(root) NOPASSWD: /usr/bin/systemctl" | sudoersì— ì¶”ê°€í•  ê·œì¹™ì„ ë¬¸ìì—´ë¡œ ì¶œë ¥                   |          
| ubuntu ALL=(root)                                     | ubuntu ê³„ì •ì´ **root ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ** ëª…ë ¹ ì‹¤í–‰ ê°€ëŠ¥í•˜ê²Œ ì„¤ì • |                   
| NOPASSWD:                                             | sudo ì‹¤í–‰ ì‹œ **ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ì—†ì´** ì‹¤í–‰ í—ˆìš©             |              
| /usr/bin/systemctl                                    | ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì‹¤í–‰ì„ í—ˆìš©í•  **íŠ¹ì • ëª…ë ¹ì–´(systemctl)** ì§€ì •   |                          
| \|                                                     | íŒŒì´í”„. ì•ì˜ echo ê²°ê³¼ë¥¼ ë’¤ì˜ teeë¡œ ë„˜ê¹€ |
| sudo `tee` /etc/sudoers.d/systemctl-nopasswd            | root ê¶Œí•œìœ¼ë¡œ `/etc/sudoers.d/` ì•„ë˜ì— ê·œì¹™ íŒŒì¼ ìƒì„±í•˜ê³ , ì•ì˜ echo ì¶œë ¥ ë‚´ìš©ì„ ê¸°ë¡   |                       



```bash
echo "ubuntu ALL=(root) NOPASSWD: /usr/bin/systemctl" | sudo tee /etc/sudoers.d/systemctl-nopasswd
```


---

# 3. (Ubuntu) OpenSSH ì„¤ì¹˜ ë° ì„¤ì •
> OpenSSH(Open Secure Shell)ëŠ” SSH(Secure Shell) í”„ë¡œí† ì½œì„ êµ¬í˜„í•œ ì˜¤í”ˆì†ŒìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤.

## 3-1. SSH ë€?
> SSH(Secure Shell) ëŠ” ì›ê²© ì»´í“¨í„°(ì„œë²„)ì— ì•ˆì „í•˜ê²Œ ì ‘ì†í•˜ê¸° ìœ„í•œ ë³´ì•ˆ í”„ë¡œí† ì½œ.

| ê¸°ëŠ¥            | ì„¤ëª…                                           |
| ------------- | -------------------------------------------- |
| **ì›ê²© ì ‘ì†**     | ë‹¤ë¥¸ ì»´í“¨í„°(ì„œë²„ ë“±)ì— ì ‘ì†í•´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŒ              |
| **ì•”í˜¸í™”ëœ í†µì‹ **   | ID, ë¹„ë°€ë²ˆí˜¸, ë°ì´í„° ë“±ì„ ì•”í˜¸í™”í•´ì„œ ì£¼ê³ ë°›ê¸° ë•Œë¬¸ì— ë„ì²­Â·ì¤‘ê°„ì ê³µê²© ë°©ì§€ |
| **ì¸ì¦ ë°©ì‹**     | ë¹„ë°€ë²ˆí˜¸ ë°©ì‹ ë˜ëŠ” ê³µê°œí‚¤/ê°œì¸í‚¤ ë°©ì‹ìœ¼ë¡œ ì¸ì¦                   |
| **í¬íŠ¸ ë²ˆí˜¸ ê¸°ë³¸ê°’** | ê¸°ë³¸ í¬íŠ¸ëŠ” `22ë²ˆ`                                 |

## 3-2. OpenSSH ë€?
> ì›ê²© ì„œë²„ì— ë³´ì•ˆ ì ‘ì†(SSH) ì„ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë³´ì•ˆ ë„êµ¬ ëª¨ìŒ.

### ğŸ§© OpenSSH êµ¬ì„±
| êµ¬ì„± ìš”ì†Œ                | ì—­í•                                 |
| -------------------- | --------------------------------- |
| **SSH Client**       | ë‹¤ë¥¸ ì„œë²„ì— ì ‘ì†í•  ë•Œ ì‚¬ìš© (`ssh user@host`) |
| **SSH Server(SSHD)** | ë‹¤ë¥¸ ì»´í“¨í„°ê°€ ë‚´ ì»´í“¨í„°ë¡œ ì ‘ì†í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ        |
| **SCP/SFTP**         | íŒŒì¼ì„ ì•ˆì „í•˜ê²Œ ì „ì†¡í•˜ëŠ” ê¸°ëŠ¥                  |


## 3-3. SSH ì„œë²„ ì„¤ì¹˜ ( APT ì‚¬ìš© )
ì„¤ì¹˜í•˜ê¸°:
> sudo apt install íŒ¨í‚¤ì§€ëª…
```bash
sudo apt install -y openssh-server
```

## 3-4. SSH í¬íŠ¸ ë³€ê²½ (22 â†’ 2222)

### `nano` ëª…ë ¹ì–´ë¡œ ì„¤ì •íŒŒì¼ ìˆ˜ì •:
| í•­ëª©                       | ì˜ë¯¸                                                   |
| ------------------------ | ---------------------------------------------------- |
| **sudo**                 | ê´€ë¦¬ì(root) ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰. SSH ì„¤ì •íŒŒì¼ì€ ì¼ë°˜ ì‚¬ìš©ìë¡œëŠ” ìˆ˜ì • ë¶ˆê°€ì´ê¸° ë•Œë¬¸ì— í•„ìˆ˜ |
| **`nano`**                 | í…ìŠ¤íŠ¸ í¸ì§‘ê¸°. í„°ë¯¸ë„ì—ì„œ íŒŒì¼ ë‚´ìš©ì„ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©                       |
| **/etc/ssh/sshd_config** | SSH **ì„œë²„(ë°ëª¬)** ì„¤ì •íŒŒì¼. SSH ì ‘ì† ì •ì±…ì„ ì´ íŒŒì¼ì—ì„œ ì„¤ì •í•¨           |

```bash
sudo nano /etc/ssh/sshd_config
```

ìˆ˜ì •:
```
#Port 22
Port 2222
```
ìˆ˜ì • í›„:
  1. `Ctrl` + `X`
  2. `y`
  3. ì—”í„°

## 3-5. ë³€ê²½ëœ ì„¤ì • íŒŒì¼ ë‹¤ì‹œ ì½ë„ë¡ ë°ëª¬ ë¦¬ë¡œë“œ ë° ì¬ì‹œì‘

### 1) systemctl ë¦¬ë¡œë“œ: 
| í•­ëª©                | ì„¤ëª…                                                  |
| ----------------- | --------------------------------------------------- |
| **sudo**          | ê´€ë¦¬ì(root) ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰                                   |
| **`systemctl`**     | systemd(ì„œë¹„ìŠ¤ ê´€ë¦¬ì)ë¥¼ ì œì–´í•˜ëŠ” ëª…ë ¹                           |
| **daemon-reload** | systemdê°€ ê´€ë¦¬í•˜ëŠ” **ì„œë¹„ìŠ¤ ì„¤ì •íŒŒì¼(ìœ ë‹› íŒŒì¼)ë“¤ì„ ë‹¤ì‹œ ì½ë„ë¡ ê°•ì œë¡œ ìƒˆë¡œê³ ì¹¨** |


```bash
sudo systemctl daemon-reload
```

### 2) ssh.socket ì¬ì‹œì‘:
> Ubuntu 22.04 ì´í›„ë¶€í„°ëŠ” ssh ì„œë¹„ìŠ¤ê°€ systemdì˜ socket activation ë°©ì‹ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ssh.service ë¥¼ ì¬ì‹œì‘í•´ë„ ì‹¤ì œ listen í¬íŠ¸ê°€ ê°±ì‹ ë˜ì§€ ì•Šìœ¼ë©°, ë°˜ë“œì‹œ ssh.socket ì„ ì¬ì‹œì‘í•´ì•¼ ë³€ê²½ëœ í¬íŠ¸ê°€ ì ìš©ë©ë‹ˆë‹¤.

| í•­ëª©             | ì„¤ëª…                                                              |
| -------------- | --------------------------------------------------------------- |
| **sudo**       | ê´€ë¦¬ì(root) ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰                                               |
| **`systemctl`**  | systemd ì„œë¹„ìŠ¤ ê´€ë¦¬ ëª…ë ¹                                               |
| **restart**    | í•´ë‹¹ ì„œë¹„ìŠ¤ë¥¼ **ì¤‘ë‹¨ í›„ ë‹¤ì‹œ ì‹œì‘(restart)**                                 |
| **ssh.socket** | SSH ì ‘ì†ì„ ëŒ€ê¸°(listen)í•˜ëŠ” **socket unit**<br>â†’ SSH ì—°ê²°ì„ ë°›ëŠ” í¬íŠ¸ë¥¼ ê´€ë¦¬ |


```bash
sudo systemctl restart ssh.socket
```

### 3) ssh.socket ìƒíƒœ í™•ì¸:
| í•­ëª©             | ì„¤ëª…                                            |
| -------------- | --------------------------------------------- |
| **sudo**       | ê´€ë¦¬ì(root) ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰                             |
| **`systemctl`**  | systemd(ì„œë¹„ìŠ¤ ê´€ë¦¬ì) ëª…ë ¹                           |
| **status**     | í•´ë‹¹ ì„œë¹„ìŠ¤(ë˜ëŠ” ì†Œì¼“)ì˜ **í˜„ì¬ ìƒíƒœë¥¼ ì¡°íšŒ**                  |
| **ssh.socket** | SSH ì ‘ì†(í¬íŠ¸ 22)ì„ ëŒ€ê¸°(listen)í•˜ëŠ” systemd **ì†Œì¼“ ìœ ë‹›** |

```bash
sudo systemctl status ssh.socket
```

```
â— ssh.socket - OpenBSD Secure Shell server socket
     Loaded: loaded (/usr/lib/systemd/system/ssh.socket; enabled; preset: enabled)
    Drop-In: /run/systemd/generator/ssh.socket.d
             â””â”€addresses.conf
     Active: active (running) since Sun 2025-11-30 00:30:28 KST; 7min ago
   Triggers: â— ssh.service
     Listen: 0.0.0.0:2222 (Stream)
             [::]:2222 (Stream)
      Tasks: 0 (limit: 18634)
     Memory: 12.0K (peak: 264.0K)
        CPU: 649us
     CGroup: /system.slice/ssh.socket
```
ìœ„ì™€ ê°™ì´ ë–  ìˆìœ¼ë©´ ì •ìƒ.

--- 

# 4. Windows PowerShell ì—ì„œ OpenSSH Client ë¡œ ì„œë²„ ì ‘ì†

## 4-1. OpenSSH ì„¤ì¹˜í™•ì¸:
```Powershell
ssh -V
```

```
OpenSSH_for_Windows_9.5p1, LibreSSL 3.8.2
```
- ìœˆë„ìš°ì—ì„œ OpenSSH Client ì„¤ì¹˜ê°€ ì•ˆëì„ê²½ìš°,

    1. ì„¤ì • â†’ ì„¤ì •ê²€ìƒ‰ â†’ ì„ íƒì  ê¸°ëŠ¥ ì…ë ¥
    2. ì„ íƒì  ê¸°ëŠ¥ ë³´ê¸° ë˜ëŠ” í¸ì§‘ - [ ê¸°ëŠ¥ ë³´ê¸° ] í´ë¦­ â†’ [ ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ ë³´ê¸° ] í´ë¦­
    3. ëª©ë¡ì—ì„œ OpenSSH Client ì²´í¬ë°•ìŠ¤ ì²´í¬í•˜ê³  [ì¶”ê°€] í´ë¦­


## 4-2. Ubuntu ì„œë²„ë¡œ ssh ì ‘ì†
| í•­ëª©               | ì˜ë¯¸                           |
| ---------------- | ---------------------------- |
| `ssh`              | SSH í´ë¼ì´ì–¸íŠ¸ ì‹¤í–‰                 |
| ubuntu@localhost | ubuntu ì‚¬ìš©ìë¡œ localhost ì„œë²„ì— ì ‘ì† |
| -p 2222          | 2222ë²ˆ í¬íŠ¸ë¡œ ì ‘ì†                 |
```bash
ssh ubuntu@localhost -p 2222
```


ì„œë²„ì— ì²˜ìŒ ì ‘ì†í•  ë•Œ,
```
The authenticity of host 'localhost (127.0.0.1)' can't be established.
ED25519 key fingerprint is SHA256:xxxxx....
Are you sure you want to continue connecting (yes/no)?
```
ë¼ê³  ë¬»ëŠ”ë‹¤.

ì‚¬ìš©ìê°€ "yes" í•˜ë©´: `~/.ssh/known_hosts` íŒŒì¼ì— ì„œë²„ì˜ ê³µê°œí‚¤ë¥¼ ì €ì¥í•œë‹¤.

- í‚¤ ì¶©ëŒ ì‹œ: `ssh-keygen -R localhost` - SSH í´ë¼ì´ì–¸íŠ¸ê°€ ê¸°ì–µí•˜ê³  ìˆëŠ” known_hosts íŒŒì¼ì— â€œlocalhost ì„œë²„ì˜ ê³µê°œí‚¤â€ë¥¼ ì‚­ì œ.

## 4-3. Windows OpenSSH Client ì„¤ì • íŒŒì¼ ìƒì„±
> config íŒŒì¼ì€ ì—¬ëŸ¬ ì„œë²„ ì ‘ì† ì •ë³´ë¥¼ ë¯¸ë¦¬ ì €ì¥í•´ë‘ê³  ì‰½ê²Œ ì ‘ì†í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì„¤ì • íŒŒì¼.

### Windows SSH config ê¸°ë³¸ íŒŒì¼ ìœ„ì¹˜: `C:\Users\ì‚¬ìš©ì\.ssh\config`

```Powershell
code $env:USERPROFILE/.ssh/config
```

### ë‚´ìš©ì˜ˆì‹œ:
```
Host <ë³„ì¹­>
    HostName <IP ë˜ëŠ” ë„ë©”ì¸>
    Port <í¬íŠ¸>
    User <ì‚¬ìš©ì>
```

### C:\Users\ì‚¬ìš©ì\.ssh\config ë‚´ìš©:
```
Host ubuntu24
    HostName localhost
    Port 2222
    User ubuntu
```

## 4-4. Windows PowerShell ì—ì„œ ë³„ì¹­ìœ¼ë¡œ ì ‘ì†í•˜ê¸°

### ì ‘ì†ì˜ˆì‹œ:
```powershell
ssh <ë³„ì¹­>
```

### ì ‘ì†:
```powershell
ssh ubuntu24
```


---

# 5. Windows ì—ì„œ SSH í‚¤ í˜ì–´ ê¸°ë°˜ ì ‘ì† ì„¤ì •
> SSH ì ‘ì† ì‹œ ë¹„ë°€ë²ˆí˜¸ ëŒ€ì‹  ê³µê°œí‚¤(ì„œë²„ì— ì €ì¥) + ë¹„ê³µê°œí‚¤(í´ë¼ì´ì–¸íŠ¸ì— ì €ì¥) ì¡°í•©ìœ¼ë¡œ ì¸ì¦í•˜ëŠ” ë°©ì‹.

## 5-1. Windows PowerShellì—ì„œ SSH í‚¤í˜ì–´ ìƒì„±

| í•­ëª©                                 | ì˜ë¯¸            | ì„¤ëª…                                           |
| ---------------------------------- | ------------- | -------------------------------------------- |
| `ssh-keygen`                       | SSH í‚¤ ìƒì„± ë„êµ¬   | ê³µê°œí‚¤/ê°œì¸í‚¤ ìŒì„ ìƒì„±í•˜ëŠ” ëª…ë ¹ì–´                          |
| -C "ubuntu24"                    | í‚¤ ì„¤ëª…(Comment) | í‚¤ íŒŒì¼ ë‚´ë¶€ì— ë¶™ëŠ” **ë¼ë²¨**. ì–´ë–¤ ìš©ë„ì¸ì§€ í‘œì‹œ               |
| -f "ê²½ë¡œ"                          | ìƒì„±í•  íŒŒì¼ ì´ë¦„     | private key ê²½ë¡œ ì§€ì • (public keyëŠ” `.pub` ìë™ ìƒì„±) |
| $env:USERPROFILE\.ssh\myfirstkey | í‚¤ ì €ì¥ ìœ„ì¹˜       | ì˜ˆ: `C:\Users\ì‚¬ìš©ì\.ssh\myfirstkey` ë¡œ ì €ì¥ë¨      |


```powershell
ssh-keygen -C "ubuntu24" -f "$env:USERPROFILE\.ssh\myfirstkey"
```


- passphrase ì…ë ¥í•˜ë¼ê³  ëœ¨ëŠ”ë°, ë¬´ì‹œí•˜ê³  ë‘ë²ˆ ì—”í„° ( passphraseëŠ” ë¹„ë°€í‚¤ë¥¼ ë³´í˜¸í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ì¶”ê°€ ë¹„ë°€ë²ˆí˜¸ )

- `ssh-keygen` ëª…ë ¹ì–´ëŠ” SSH ì—°ê²°ì— ì‚¬ìš©í•  **ê³µê°œí‚¤(public key)ì™€ ë¹„ê³µê°œí‚¤(private key)** ë¥¼ ìƒì„±í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. SSH ì¸ì¦ ë°©ì‹ ì¤‘ **ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì•ˆì „í•˜ê²Œ ì¸ì¦í•˜ëŠ” ë°©ì‹** ì„ ë§Œë“¤ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.   

## 5-2. ê³µê°œí‚¤ ë° ë¹„ê³µê°œí‚¤ ìƒì„± í™•ì¸
| í•­ëª©             | ì„¤ëª…                                                |
| -------------- | ------------------------------------------------- |
| **`ls`**         | ë””ë ‰í† ë¦¬ ë‚´ìš©ì„ ë‚˜ì—´(list)í•˜ëŠ” ëª…ë ¹ (`Get-ChildItem`ì˜ ì¶•ì•½í˜•)     |
| **~**          | í˜„ì¬ ì‚¬ìš©ì(Home) ë””ë ‰í† ë¦¬ë¥¼ ì˜ë¯¸ (Windowsì—ì„œëŠ” `C:\Users\ì‚¬ìš©ì`) |
| **~/.ssh/**    | Windows ì‚¬ìš©ì í™ˆë””ë ‰í† ë¦¬ ì•ˆì˜ .ssh í´ë” ê²½ë¡œ                 |
| **ls ~/.ssh/** | .ssh í´ë” ë‚´ë¶€ì— ìˆëŠ” **SSH í‚¤ íŒŒì¼ ë° ì„¤ì • íŒŒì¼ë“¤ì„ ë‚˜ì—´**        |

```Powershell
ls ~/.ssh/
```
```
-a----      2025-11-24   ì˜¤í›„ 9:21            387 myfirstkey
-a----      2025-11-24   ì˜¤í›„ 9:21             87 myfirstkey.pub
```
- `.pub` í™•ì¥ìë¥¼ ê°€ì§„ íŒŒì¼ì´ ê³µê°œí‚¤ ( ì—´ì‡  êµ¬ë© )
- í™•ì¥ìê°€ ì—†ëŠ” íŒŒì¼ì´ ë¹„ê³µê°œí‚¤. ( ì—´ì‡  )

## 5-3. ê³µê°œí‚¤ë¥¼ ì„œë²„ ì„ì‹œí´ë”ì— ì—…ë¡œë“œ (scp)
| í•­ëª©               | ì„¤ëª…                   |
| ----- | ------------- |
| `scp`                                  | Secure Copy. SSH(ì•”í˜¸í™”) ê¸°ë°˜ìœ¼ë¡œ **íŒŒì¼ì„ ì›ê²© ì„œë²„ë¡œ ì „ì†¡**í•˜ëŠ” ëª…ë ¹ì–´                                    |
| -P 2222                            | SSH ì ‘ì† í¬íŠ¸ë¥¼ **2222ë²ˆìœ¼ë¡œ ì§€ì •** (ê¸°ë³¸ì€ 22ë²ˆ)                                                   |
| $env:USERPROFILE\.ssh\myfirstkey.pub | **ë¡œì»¬ Windows PowerShell í™˜ê²½ ë³€ìˆ˜ ê²½ë¡œ**. í˜„ì¬ ì‚¬ìš©ì ê³„ì •ì˜ `.ssh` í´ë” ì•ˆì— ìˆëŠ” `myfirstkey.pub` íŒŒì¼ ì§€ì • |
| ubuntu@localhost:                    | íŒŒì¼ì„ ë°›ì„ **ì›ê²© ì„œë²„ì˜ ì‚¬ìš©ì(ubuntu)ì™€ ì£¼ì†Œ(localhost)** ì§€ì •                                       |
| /tmp/myfirstkey.pub                  | ì›ê²© ì„œë²„(Ubuntu)ì—ì„œ íŒŒì¼ì„ ì €ì¥í•  **ëª©ì ì§€ ê²½ë¡œ**                                                    |

```Powershell
scp -P 2222 $env:USERPROFILE\.ssh\myfirstkey.pub ubuntu@localhost:/tmp/myfirstkey.pub
```


## 5-4. `ssh` ì‚¬ìš©í•´ì„œ ~/.ssh/authorized_keys íŒŒì¼ì— ëª…ë ¹ì–´ ë¡œ ë‚´ìš© ì¶”ê°€í•˜ê¸°

> authorized_keys ì—­í•  : ê³µê°œí‚¤ ë“¤ì„ ì €ì¥í•´ë‘” íŒŒì¼ - ì´ íŒŒì¼ ì•ˆì— ê³µê°œí‚¤ê°€ ì—†ìœ¼ë©´, ì•„ë¬´ë¦¬ ë¹„ë°€í‚¤ë¥¼ ê°€ì§€ê³  ìˆì–´ë„ ì ‘ì† ëª» í•¨.

| í•­ëª©            | ì„¤ëª…                                  |
| ------------------- | ------------------------------- |
| `ssh` -p 2222 ubuntu@localhost " ... "              | ë¡œì»¬ì—ì„œ **í¬íŠ¸ 2222ë¡œ SSH ì ‘ì†**í•œ ë’¤, í°ë”°ì˜´í‘œ ì•ˆì˜ ëª…ë ¹ë“¤ì„ ì›ê²©(Ubuntu)ì— ì¼ê´„ ì‹¤í–‰ |
| `mkdir` -p ~/.ssh                                   | í™ˆ ë””ë ‰í† ë¦¬ì— .ssh í´ë” ìƒì„±                   |
| `chmod` 700 ~/.ssh                                  | .ssh í´ë” ê¶Œí•œì„ 700(ì†Œìœ ìë§Œ ì½ê¸°/ì“°ê¸°/ì‹¤í–‰)ìœ¼ë¡œ ì„¤ì • â†’ SSH í‘œì¤€ ê¶Œí•œ           |
| `cat` /tmp/myfirstkey.pub >> ~/.ssh/authorized_keys | ë¡œì»¬ì—ì„œ ë³´ë‚¸ ê³µê°œí‚¤ íŒŒì¼ì„ authorized_keysì— **ì¶”ê°€(append)**             |
| `chmod` 600 ~/.ssh/authorized_keys                  | authorized_keys íŒŒì¼ ê¶Œí•œì„ 600ìœ¼ë¡œ ì„¤ì • (ì†Œìœ ìë§Œ ì½ê¸°/ì“°ê¸°)                |
| `rm` /tmp/myfirstkey.pub                            | ì„ì‹œë¡œ ì—…ë¡œë“œëœ ê³µê°œí‚¤ íŒŒì¼ì„ ì‚­ì œí•˜ì—¬ ë³´ì•ˆ ìœ ì§€                                 |

> SSH ì ‘ì†ìš© ê³µê°œí‚¤ë¥¼ ì„œë²„ì— ë“±ë¡í•˜ê³ , ë³´ì•ˆ ê¶Œí•œê¹Œì§€ ë§ê²Œ ì„¤ì •í•œ ë’¤ ì„ì‹œ íŒŒì¼ì„ ì œê±°í•˜ëŠ” 1íšŒìš© í‚¤ ë“±ë¡ ìŠ¤í¬ë¦½íŠ¸.

```Powershell
ssh -p 2222 ubuntu@localhost "mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat /tmp/myfirstkey.pub >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys && rm /tmp/myfirstkey.pub"
```


## 5-5. ìœˆë„ìš°ì—ì„œ ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ë¹„ê³µê°œí‚¤ë¥¼ ì´ìš©í•´ SSH ì ‘ì†
| í•­ëª©                                 | ì˜ë¯¸        | ì„¤ëª…                             |
| ---------------------------------- | --------- | ------------------------------ |
| `ssh`                              | SSH ì ‘ì† ëª…ë ¹ | ì›ê²© ì„œë²„ì— ì ‘ì†                      |
| -i "ê²½ë¡œ"                          | ê°œì¸í‚¤ ì§€ì •    | ì‚¬ìš©í•  **private key** íŒŒì¼ ê²½ë¡œ      |
| $env:USERPROFILE\.ssh\myfirstkey | ê°œì¸í‚¤ ìœ„ì¹˜    | `C:\Users\ì‚¬ìš©ì\.ssh\myfirstkey` |
| ubuntu                           | ì‚¬ìš©ì ì´ë¦„    | ì ‘ì†í•  ì„œë²„ì˜ ê³„ì •                     |
| localhost                        | ì ‘ì† ì£¼ì†Œ     | ë‚´ PC(WSL/VM/Docker ë“±)ì— ì ‘ì†      |
| -p 2222                          | í¬íŠ¸ ë²ˆí˜¸     | SSH ì„œë²„ê°€ ì‚¬ìš©í•˜ëŠ” í¬íŠ¸ (ê¸°ë³¸ì€ 22)       |

```powershell
ssh -i "$env:USERPROFILE\.ssh\myfirstkey" ubuntu@localhost -p 2222
```


## 5-6. Windows OpenSSH config íŒŒì¼ ì„¤ì •
> OpenSSH config íŒŒì¼ì€ ì—¬ëŸ¬ ì„œë²„ ì ‘ì† ì •ë³´ë¥¼ ë¯¸ë¦¬ ì €ì¥í•´ë‘ê³  ì‰½ê²Œ ì ‘ì†í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì„¤ì • íŒŒì¼ì´ë‹¤.

Windows OpenSSH config ê¸°ë³¸ íŒŒì¼ ìœ„ì¹˜: `C:\Users\ì‚¬ìš©ì\.ssh\config`

```Powershell
code $env:USERPROFILE/.ssh/config
```

ë‚´ìš©:
```
Host ubuntu24
    HostName localhost
    Port 2222
    IdentityFile C:\Users\ì‚¬ìš©ì\.ssh\myfirstkey
    User ubuntu
```

ì ‘ì†:
```powershell
ssh ubuntu24
```

--- 

# 6. VSCode ë¡œ Ubuntu ì„œë²„ë¡œ SSH ì ‘ì†

## 6-1. VSCode í™•ì¥í”„ë¡œê·¸ë¨ Remote-SSH ì„¤ì¹˜
> VSCode Remote-SSH í™•ì¥ ê¸°ëŠ¥ì€ ì‹œìŠ¤í…œ(Windows/WSL/macOS/Linux)ì— ì„¤ì¹˜ëœ OpenSSH binaryë¥¼ ê·¸ëŒ€ë¡œ í˜¸ì¶œí•´ì„œ ì„œë²„ì— ì—°ê²°í•œë‹¤.

EXTENSIONS ->  Remote-SSH ê²€ìƒ‰ í›„ ì„¤ì¹˜

## 6-2. ì™¼ìª½ì— Remote Explorer í´ë¦­
![VSCode Remote SSH1](https://lh3.googleusercontent.com/d/1ACbjDph3R1siAALQST_ACeXkcvg6CV_r)

## 6-3. ì™¼ìª½ì— Open Folder í´ë¦­ -> ìƒë‹¨ì— í”„ë¡œì íŠ¸ë¡œ ì—´ ê²½ë¡œê°€ ì…ë ¥ë˜ì–´ ìˆìŒ. -> OK ë²„íŠ¼ í´ë¦­ ë˜ëŠ” ì—”í„°
![VSCode Remote SSH2](https://lh3.googleusercontent.com/d/1jZ_CkskvkfukHv_5Il1nAo2wmMmC3ISf)

---


# ğŸ’¡ ìš”ì•½ì •ë¦¬

- Windowsì— WSL2 + Ubuntuë¥¼ ì„¤ì¹˜í•´ Linux ê°œë°œí™˜ê²½ êµ¬ì¶• 

- /etc/wsl.conf ë¡œ systemd í™œì„±í™”  

- SSH ì„œë²„ë¡œ Ubuntu â†” Windows ì—°ê²°  

- ubuntu ì—ì„œ `apt` ë¡œ í”„ë¡œê·¸ë¨ë“¤ì„ ì‰½ê²Œ ì„¤ì¹˜í•˜ê³  ê´€ë¦¬í• ìˆ˜ ìˆìŒ. ( ìœˆë„ìš°ì—ì„œ í”„ë¡œê·¸ë¨ ì¶”ê°€/ì‚­ì œë‘ ë¹„ìŠ· )

- ubuntu ì—ì„œ `systemctl` ë¡œ ì„œë¹„ìŠ¤ë¥¼ ì¡°íšŒÂ·ì‹œì‘Â·ì¤‘ì§€Â·ì¬ì‹œì‘ ë“±ì„ ê´€ë¦¬í•˜ëŠ” ëª…ë ¹ì–´ ( ìœˆë„ìš°ì—ì„œ ì„œë¹„ìŠ¤ ì‹œì‘/ì¤‘ì§€ë‘ ë¹„ìŠ·)

---

# ğŸ§© ì‹¤ìŠµ / ê³¼ì œ
### 1. WSL ëª…ë ¹ì–´ ì‚¬ìš©í•´ë³´ê¸°

### 2. Windows â†’ Ubuntu SSH ì ‘ì†í•˜ê¸°  

### 3. VSCode Remote-SSH ë¡œ ì„œë²„ ì ‘ì†í•´ì„œ í”„ë¡œì íŠ¸ í´ë” ì—´ê¸°

--- 

## ì°¸ê³ ) WSL ì£¼ìš” ëª…ë ¹ì–´ë“¤ 

- WSL ì„¤ì¹˜ ëª©ë¡ í™•ì¸   
   ```Powershell
   wsl -l -v
   ```
   ![ë°°í¬íŒì„¤ì¹˜ëª©ë¡](https://lh3.googleusercontent.com/d/1GT6QyWCIvOG1qMInKMxMxKaGt4iWeCWG)

- WSL ê¸°ë³¸ ë°°í¬íŒ ì ‘ì†
   ```Powershell
   wsl
   ```

- WSL ì‹¤í–‰ ê¸°ë³¸ ë°°í¬íŒ ì„ íƒ
   ```Powershell
   wsl --set-default Ubuntu-24.04
   ```

- WSL ë°°í¬íŒ ì‹¤í–‰ ì¤‘ì§€
   ```Powershell
   wsl --shutdown # ì „ì²´

   wsl --terminate Ubuntu-24.04 # íŠ¹ì • ë°°í¬íŒë§Œ
   ```

- WSL ë°°í¬íŒ ì‹¤í–‰ ë° ì ‘ì†
   ```Powershell
   wsl -d Ubuntu-24.04
   ```

- WSL íŠ¹ì • ë°°í¬íŒ ì‚­ì œ
   ```Powershell
   wsl --unregister Ubuntu-24.04
   ```

- WSL ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
   ```Powershell
   wsl -e free -h
   ```

- WSL ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
   ```Powershell
   > wsl -u root
   ```
   ```bash
   $ passwd ì‚¬ìš©ìê³„ì •
   ```

- WSL2ë¥¼ ê¸°ë³¸ ë²„ì „ìœ¼ë¡œ ì„¤ì •:
   ```Powershell
   wsl --set-default-version 2
   ```

- íŠ¹ì • ë°°í¬íŒì„ WSL2ë¡œ ë³€í™˜:
   ```Powershell
   wsl --set-version Ubuntu-24.04 2
   ```






