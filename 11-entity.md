# 논리 데이터베이스 설계 - 개체 상세화하기

## 📘 학습 개요

본 문서는 데이터베이스 논리 설계 단계에서 수행하는  
**개체 식별(Entity Identification)** 및 **속성 정의(Attribute Definition)** 과정을 설명한다.

이 단계는 이후 **ERD 작성 → 테이블 설계 → SQL 개발**까지 연결되는 핵심 과정이며,  
초기 단계에서는 **데이터 타입, 제약조건(도메인)** 없이  
“무엇을 저장할지”와 “어떤 정보를 가져야 하는지”만 이해하면 충분하다.

## 💡 주요 내용

- 개체 상세화하기 전에 해야 하는 것들 (요구사항 분석)
- 개체 상세화하기 (Entity Specification)
- 개체 식별 예시 (실시간 채팅 서비스)
- 개체의 속성(Attribute) 도출하기
- 주요 개체 상세화 예시 (User / Room / Message / RoomMember)

---

# 0️⃣ 개체 상세화하기 전에 해야 하는 것들 (요구사항 분석 단계)

개체를 도출하기 전에는 반드시 **요구사항을 충분히 이해하는 과정**이 필요하다.

## 1. 서비스 전체 시나리오 파악하기

> 요구사항을 자연어로 정리한다.

- 사용자는 회원가입과 로그인을 할 수 있다.  
- 로그인한 사용자는 채팅방을 만들거나 입장할 수 있다.  
- 채팅방에 입장한 사용자는 다른 사용자와 실시간으로 메시지를 주고받는다.  
- 사용자가 보낸 메시지는 저장되어, 나중에 접속해도 이전 대화를 볼 수 있어야 한다.

### → 시나리오에서 **명사 / 동사**를 구분한다.

- **명사(Noun)**: 사용자, 회원, 로그인, 채팅방, 메시지, 시간, 대화 내용  
- **동사(Verb)**: 회원가입, 로그인, 만들다, 입장하다, 보내다, 저장하다, 조회하다  

👉 명사는 개체/속성 후보, 동사는 기능/이벤트가 된다.

---

## 2. 기능 요구사항 정리

시나리오를 표 형식으로 구조화한다.

| 구분 | 기능 | 설명 |
|------|------|------|
| 회원 | 회원가입 | 이메일/비밀번호/닉네임으로 계정을 생성한다. |
| 회원 | 로그인/로그아웃 | 사용자 인증을 수행한다. |
| 채팅방 | 채팅방 생성 | 새로운 채팅방을 만들고 이름을 설정한다. |
| 채팅방 | 채팅방 목록 조회 | 사용자가 참여 가능한 방 목록을 조회한다. |
| 채팅방 | 채팅방 입장/퇴장 | 사용자가 대화방을 들어가거나 나올 수 있다. |
| 메시지 | 메시지 보내기 | 텍스트/이모티콘 메시지를 전송한다. |
| 메시지 | 메시지 수신/표시 | 실시간 메시지를 화면에 보여준다. |
| 메시지 | 이전 메시지 조회 | 채팅방 입장 시 기존 대화를 조회한다. |

→ 이 표에서 얻어지는 주요 명사들이 최종 개체 후보가 된다.

---

## 3. 데이터 관점에서 필요한 정보(명사) 뽑기

시나리오와 기능 요구사항에서 명사만 추출한다.

- 사용자(User)  
- 로그인 정보 (아이디, 비밀번호, 로그인 시간)  
- 채팅방(Room)  
- 메시지(Message, 내용, 전송 시각, 보낸 사람)

이 중 아래 조건을 만족하면 **개체**가 된다.

- 여러 개가 반복적으로 생김  
- 식별 가능(ID로 구분 가능)  
- 저장해서 관리해야 함  

### → 최종 개체 후보
- **User**  
- **Room**  
- **Message**

이후 관계 개념에서 RoomMember도 추가된다.

---

# 1️⃣ 개체 상세화하기 (Entity Specification)

## ✔ 개체(Entity)란?

업무 요구사항에서 **관리해야 하는 실체(사물, 사건, 행위)** 를 의미하며  
데이터베이스에서 **테이블의 원형**이 된다.

## ✔ 개체 식별 기준

- 업무적으로 관리해야 한다.  
- 여러 개가 반복적으로 발생한다.  
- 서로 구별 가능하다.  
- 최소 2개 이상의 의미 있는 속성을 가진다.

👉 즉 “반복되고, 저장할 필요가 있고, 구분 가능한 정보”가 개체다.

---

# 2️⃣ 개체 식별 예시

### 📌 요구사항 예시
“사용자는 로그인 후 채팅방을 만들거나 입장하여  
다른 사용자들과 실시간으로 메시지를 주고받을 수 있어야 한다.”

### 📌 개체 도출

| 개체 | 설명 |
|------|------|
| **User** | 채팅 서비스 사용자 |
| **Room** | 사용자가 대화하는 채팅방 |
| **Message** | 채팅방 내에서 주고받는 메시지 |
| **RoomMember** | 특정 방에 참여한 사용자 관계 정보 |

---

# 3️⃣ 개체의 속성(Attribute) 정의하기

개체가 갖는 구체적인 정보를 속성이라고 한다.  
예: User의 이메일, 비밀번호, 닉네임, 가입일 등.

## ✔ 속성 정의 기준

- 업무적으로 의미 있는 정보를 포함해야 한다.  
- 속성은 단일 값만 가진다(1NF).  
- 계산 가능한 값은 저장하지 않는다.  
- 의미가 중복되는 속성이 없어야 한다.

---

# 💡 요약정리

- **요구사항 분석 → 명사 추출 → 개체 후보 선정 → 개체 상세화** 순서로 진행한다.  
- 개체는 “반복되는, 관리해야 하는, 구분 가능한 실체”이다.  
- 속성 정의 시 데이터 타입/도메인은 고려하지 않고 **업무 의미**에 집중한다.  
- 채팅 서비스 예시에서는 User / Room / Message / RoomMember가 핵심 개체.

---

# 🧩 실습 / 과제

1. 제공된 요구사항 문장에서 **명사/동사 분리하기**  
2. 명사 목록 중 개체 후보만 골라내기  
3. 개체별 주요 속성 3~5개 정의해보기  
4. 개체 간 관계(1:N, N:M) 추정해 보기  
